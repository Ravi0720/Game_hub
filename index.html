<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mini Game Hub</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header>
        <div id="userInfo">Welcome, <span id="userName"></span>! <button class="button" id="logoutButton">Logout</button></div>
        <div class="button-container">
            <button class="button" id="loginButton">Login</button>
            <button class="button" id="themeButton">Toggle Theme</button>
        </div>
    </header>
    <h1>🎮 Mini Game Hub</h1>
    <div class="game-list">
        <a href="games/Reflex Game/index.html" class="game-card">⚡ Reflex Game</a>
        <a href="games/Memory Card Flip/index.html" class="game-card">🧠 Memory Game</a>
        <a href="games/Snake Game/index.html" class="game-card">🐍 Snake</a>
        <a href="games/Rock Paper Scissors/index.html" class="game-card">✂️ Rock Paper Scissors</a>
        <a href="games/Dino/index.html" class="game-card">🦖 Dino Jump</a>
        <a href="games/2048/index.html" class="game-card">🧩 2048</a>
        <a href="games/tic-tac-toe/index.html" class="game-card">❌ Tic Tac Toe</a>
        <a href="games/Whack-a-Mole/Whack-a-Mole%20Game/index.html" class="game-card">🐹 Whack-a-Mole</a>
        <a href="games/Typing_Speed_Test/index.html" class="game-card">⌨️ Typing Speed Test</a>
        <a href="games/Pong_Game/index.html" class="game-card">🏓 Pong Game</a>
        <a href="games/Word Scramble Game/index.html" class="game-card">🔀 Word Scramble</a>
        <a href="games/Bubble Shooter/index.html" class="game-card">🫧 Bubble Shooter</a>
        <a href="games/Pixel Painter/index.html" class="game-card">🎨 Pixel Painter</a>
        <a href="games/Space Dodger/index.html" class="game-card">🚀 Space Dodger</a>
        <a href="games/Tower Stack/index.html" class="game-card">🏗️ Tower Stack</a>
        <a href="games/Memory Matrix/index.html" class="game-card">😎 Memory Matrix</a>
        <a href="games/Word Dash/index.html" class="game-card">🏃‍♂️ Word Dash</a>
        <a href="games/Pathfinder Puzzle/index.html" class="game-card">🧩 Pathfinder Puzzle</a>
        <a href="games/Bubble Pop/index.html" class="game-card">🫧 Bubble Pop</a>
        <a href="games/Rhythm Runner/index.html" class="game-card">🎶 Rhythm Runner</a>
        <a href="games/Catch_colour/index.html" class="game-card">🎨 Color Catch</a>
        <a href="games/Memory Match Mania/index.html" class="game-card">🧠 Memory Match Mania</a>
        <a href="games/Typing Tempest/index.html" class="game-card">⌨️ Typing Tempest</a>
        <a href="games/Star Collector/index.html" class="game-card">⭐ Star Collector</a>
        <a href="games/Nebula Navigator/index.html" class="game-card">🌌 Nebula Navigator</a>
    </div>
    <footer>
        © 2025 Ravi Shankar. All rights reserved.
    </footer>

    <div id="loginModal">
        <h2>Login to Mini Game Hub</h2>
        <form id="loginForm">
            <input type="email" id="email" placeholder="Email" required>
            <input type="password" id="password" placeholder="Password" required>
            <button type="submit" class="button">Login</button>
        </form>
        <p>Or login with:</p>
        <div class="oauth-buttons">
            <button class="oauth-button" id="googleLogin">
                <img src="https://www.google.com/favicon.ico" alt="Google"> Sign in with Google
            </button>
            <button class="oauth-button" id="githubLogin">
                <img src="https://github.com/favicon.ico" alt="GitHub"> Sign in with GitHub
            </button>
        </div>
        <button class="button close-button" id="closeModal">Close</button>
    </div>

    <script src="https://accounts.google.com/gsi/client" async defer></script>
    <script>
        window.onload = function() {
            try {
                // Theme Toggle
                const themeButton = document.getElementById('themeButton');
                const body = document.body;
                const currentTheme = localStorage.getItem('theme') || 'dark';
                if (currentTheme === 'light') {
                    body.classList.add('light-theme');
                }
                themeButton.addEventListener('click', () => {
                    body.classList.toggle('light-theme');
                    const newTheme = body.classList.contains('light-theme') ? 'light' : 'dark';
                    localStorage.setItem('theme', newTheme);
                });

                // Login System
                const loginButton = document.getElementById('loginButton');
                const logoutButton = document.getElementById('logoutButton');
                const userInfo = document.getElementById('userInfo');
                const userName = document.getElementById('userName');
                const loginModal = document.getElementById('loginModal');
                const closeModal = document.getElementById('closeModal');
                const loginForm = document.getElementById('loginForm');
                const googleLogin = document.getElementById('googleLogin');
                const githubLogin = document.getElementById('githubLogin');

                function updateUI() {
                    const user = JSON.parse(localStorage.getItem('user'));
                    if (user) {
                        userName.textContent = user.name;
                        userInfo.style.display = 'block';
                        loginButton.style.display = 'none';
                    } else {
                        userInfo.style.display = 'none';
                        loginButton.style.display = 'inline-block';
                    }
                }

                loginButton.addEventListener('click', () => {
                    loginModal.style.display = 'block';
                });

                closeModal.addEventListener('click', () => {
                    loginModal.style.display = 'none';
                });

                loginForm.addEventListener('submit', (e) => {
                    e.preventDefault();
                    const email = document.getElementById('email').value;
                    const password = document.getElementById('password').value;
                    const user = { name: email.split('@')[0], email };
                    localStorage.setItem('user', JSON.stringify(user));
                    loginModal.style.display = 'none';
                    updateUI();
                });

                googleLogin.addEventListener('click', () => {
                    alert('Google login initiated (mock). Configure OAuth in production.');
                    const user = { name: 'Google User', email: 'user@google.com' };
                    localStorage.setItem('user', JSON.stringify(user));
                    loginModal.style.display = 'none';
                    updateUI();
                });

                githubLogin.addEventListener('click', () => {
                    alert('GitHub login initiated (mock). Configure OAuth in production.');
                    const user = { name: 'GitHub User', email: 'user@github.com' };
                    localStorage.setItem('user', JSON.stringify(user));
                    loginModal.style.display = 'none';
                    updateUI();
                });

                logoutButton.addEventListener('click', () => {
                    localStorage.removeItem('user');
                    updateUI();
                });

                updateUI();

            } catch (error) {
                console.error('Initialization error:', error);
            }
        };
    </script>
</body>
</html>